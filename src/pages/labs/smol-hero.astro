---
import Layout from "../../layouts/Layout.astro";
import BackLink from "../../components/labs/BackLink.astro";
import SmolHeroCore from "../../components/labs/SmolHeroCore.svelte";
---

<Layout title="Smol Hero - Rhythm Game">
  <div class="min-h-screen bg-black text-white font-pixel p-4 md:p-8 pt-24">
    <div class="max-w-7xl mx-auto">
      <BackLink href="/labs" />

      <div class="mt-8">
        <SmolHeroCore client:only="svelte" fetchOnMount={true} />
      </div>

      <!-- Instructions -->
      <div class="mt-12 max-w-2xl mx-auto p-6 border border-[#333] rounded-lg bg-[#111]">
        <h3 class="text-lg font-bold text-[#9ae600] mb-4">HOW TO PLAY</h3>
        <div class="space-y-3 text-xs text-[#999]">
          <p>üéµ <strong>Choose a track</strong> from the menu and select your difficulty level.</p>
          <p>‚å®Ô∏è <strong>Hit the keys</strong> (D, F, J) when notes reach the hit zone at the bottom.</p>
          <p>üéØ <strong>Timing matters!</strong> Perfect hits give more points and build your combo.</p>
          <p>üî• <strong>Keep the combo</strong> going! Missing a note breaks your combo multiplier.</p>
          <p class="pt-2 border-t border-[#333] text-[10px]">
            <strong class="text-[#9ae600]">TECHNICAL:</strong> This game uses real-time beat detection.
            Notes are generated by analyzing the actual audio frequencies of each track.
            Bass lane (green) = kicks & low freq. Mid lane (yellow) = snares & mids.
            Treble lane (pink) = hi-hats & highs.
          </p>
          <p class="text-[10px] text-[#9ae600]">
            ‚úì Works on iOS! The game pre-analyzes tracks for mobile compatibility.
          </p>
          <p class="text-[10px] text-[#555]">
            Desktop Chrome/Firefox: Real-time beat detection ‚Ä¢ iOS/Safari: Pre-analyzed beatmaps
          </p>
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
</style>
